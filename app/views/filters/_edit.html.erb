<%= form_with model: filter, local: false do |form| %>
  <div class="layer">
    <div class="left">
      <%= form.label :folder_id %>
      <%= form.collection_select :folder_id,
                                 folders.select { |f| f[:id] > 2 },,
                                 :id,
                                 :name,
                                 value: folder %>
    </div>
  </div>
  <div class="layer">
    <div class="left"> 
      <%= form.label :name %>
      <%= form.text_field :name, value: filter.name %>
    </div>
  </div>
  <div class="layer left">
    <div class="left">
      <%= form.label :execution_order %>
      <%= form.number_field :execution_order, value: filter.execution_order %>
    </div>
  </div>
  <div class="layer left">
    <div class="left">
      <%= form.label :logic %>
      <%= form.text_field :logic, value: filter.logic %>
    </div>
  </div>
  <div class="clarifier">
    To code the filter logic combine Ruby logic operators (&&, || and !) 
    with rule ids.<br>
    For example the code (2&&1&&!3)||4 will select for errors that match 
    the rule with id 2 and rule 1 but not rule 3, if that doesn't match
    then it tries to match with rule 4.
  </div>
  <div class="layer">
    <%= form.submit "Submit Changes" %>
  </div>
<% end %>
